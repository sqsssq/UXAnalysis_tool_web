import{_ as p,R as m,u as g,b as s,o as _,j as c,f as o,a as u,e as d,g as f,n as b,i as V}from"./index.d67a3d8a.js";const w={name:"PCV",props:["dialogVisible","config"],components:{VideoPlayer:m},data(){return{elHeight:0,elWidth:0,visible:!1,player:{},video_url:"",video_name:""}},methods:{translate(l,e,a){return`translate(${l}, ${e}) rotate(${a})`},analysisVideo(){this.visible=!1;const l=g();l.select_video=this.config.video_id,l.currentPlayTime=this.config.time,l.previewSelect=1,l.leftShow=1,console.log(l.currentPlayTime)},handleEvent(l){},handleMounted(l){this.player=l.player}},created(){},mounted(){this.elWidth=document.body.clientWidth,this.elHeight=this.$refs.videoDialog.offsetHeight},watch:{dialogVisible:{handler(l){this.visible=l}},visible:{handler(l){this.visible||this.player.pause(),this.$emit("showDialog",l)}},config:{handler(l){console.log(this.config),this.video_url="http://43.153.168.84:8080/AI_Tool/"+this.config.video_id+"/video.mp4",this.video_name=this.config.name,console.log(this.video_url),this.$nextTick(()=>{this.player.currentTime(this.config.time)})},deep:!0}}},P={class:"dialog-footer",style:{display:"flex","justify-content":"center"}};function E(l,e,a,C,n,i){const h=s("video-player"),r=s("el-button"),y=s("el-dialog");return _(),c(y,{ref:"videoDialog",modelValue:n.visible,"onUpdate:modelValue":e[11]||(e[11]=t=>n.visible=t),title:"Video Preview "+n.video_name,width:"50%",class:V("show_info_dialog_pre")},{footer:o(()=>[u("span",P,[d(r,{type:"success",onClick:i.analysisVideo},{default:o(()=>[f(" Analysis ")]),_:1},8,["onClick"]),d(r,{type:"primary",onClick:e[10]||(e[10]=t=>n.visible=!1)},{default:o(()=>[f(" Close ")]),_:1})])]),default:o(()=>[u("div",{style:b({width:"100%","padding-left":.5*.05*n.elWidth-20+"px"})},[d(h,{src:n.video_url,playsinline:"",controls:"",volume:.2,width:.5*.9*n.elWidth,"playback-rates":[.7,1,1.5,2],onMounted:i.handleMounted,onReady:e[0]||(e[0]=t=>i.handleEvent(t)),onPlay:e[1]||(e[1]=t=>i.handleEvent(t)),onPause:e[2]||(e[2]=t=>i.handleEvent(t)),onEnded:e[3]||(e[3]=t=>i.handleEvent(t)),onLoadeddata:e[4]||(e[4]=t=>i.handleEvent(t)),onWaiting:e[5]||(e[5]=t=>i.handleEvent(t)),onPlaying:e[6]||(e[6]=t=>i.handleEvent(t)),onCanplay:e[7]||(e[7]=t=>i.handleEvent(t)),onCanplaythrough:e[8]||(e[8]=t=>i.handleEvent(t)),onTimeupdate:e[9]||(e[9]=t=>{var v;return i.handleEvent((v=n.player)==null?void 0:v.currentTime())})},null,8,["src","width","onMounted"])],4)]),_:1},8,["modelValue","title"])}const T=p(w,[["render",E],["__scopeId","data-v-8ffbccdf"]]);export{T as P};
