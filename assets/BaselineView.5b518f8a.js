import{_ as H,u as P,o as _,c as v,a as n,F as B,r as I,b as N,t as D,R as ut,P as Y,d as k,e as dt,f as u,w as J,v as _t,g as b,n as j,h as w,i as et,j as mt,p as vt,k as wt,s as yt,l as xt,m as St,q as Tt,x as bt,y as kt,z as it,A as E,B as Ct,C as Ft,D as Mt,E as Dt,G as Lt,H as Vt,I as Pt,J as Bt,K as At,L as zt,M as at}from"./index.315adccc.js";function Et(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function X(t,e){if((a=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var a,s=t.slice(0,a);return[s.length>1?s[0]+s.slice(2):s,+t.slice(a+1)]}function It(t){return t=X(Math.abs(t)),t?t[1]:NaN}function $t(t,e){return function(a,s){for(var i=a.length,l=[],d=0,h=t[0],g=0;i>0&&h>0&&(g+h+1>s&&(h=Math.max(1,s-g)),l.push(a.substring(i-=h,i+h)),!((g+=h+1)>s));)h=t[d=(d+1)%t.length];return l.reverse().join(e)}}function Ht(t){return function(e){return e.replace(/[0-9]/g,function(a){return t[+a]})}}var jt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function G(t){if(!(e=jt.exec(t)))throw new Error("invalid format: "+t);var e;return new K({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}G.prototype=K.prototype;function K(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}K.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Nt(t){t:for(var e=t.length,a=1,s=-1,i;a<e;++a)switch(t[a]){case".":s=i=a;break;case"0":s===0&&(s=a),i=a;break;default:if(!+t[a])break t;s>0&&(s=0);break}return s>0?t.slice(0,s)+t.slice(i+1):t}var ht;function Wt(t,e){var a=X(t,e);if(!a)return t+"";var s=a[0],i=a[1],l=i-(ht=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,d=s.length;return l===d?s:l>d?s+new Array(l-d+1).join("0"):l>0?s.slice(0,l)+"."+s.slice(l):"0."+new Array(1-l).join("0")+X(t,Math.max(0,e+l-1))[0]}function st(t,e){var a=X(t,e);if(!a)return t+"";var s=a[0],i=a[1];return i<0?"0."+new Array(-i).join("0")+s:s.length>i+1?s.slice(0,i+1)+"."+s.slice(i+1):s+new Array(i-s.length+2).join("0")}const ot={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Et,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>st(t*100,e),r:st,s:Wt,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function nt(t){return t}var lt=Array.prototype.map,rt=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Rt(t){var e=t.grouping===void 0||t.thousands===void 0?nt:$t(lt.call(t.grouping,Number),t.thousands+""),a=t.currency===void 0?"":t.currency[0]+"",s=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",l=t.numerals===void 0?nt:Ht(lt.call(t.numerals,String)),d=t.percent===void 0?"%":t.percent+"",h=t.minus===void 0?"\u2212":t.minus+"",g=t.nan===void 0?"NaN":t.nan+"";function p(m){m=G(m);var S=m.fill,r=m.align,c=m.sign,o=m.symbol,f=m.zero,F=m.width,y=m.comma,C=m.precision,M=m.trim,L=m.type;L==="n"?(y=!0,L="g"):ot[L]||(C===void 0&&(C=12),M=!0,L="g"),(f||S==="0"&&r==="=")&&(f=!0,S="0",r="=");var gt=o==="$"?a:o==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",pt=o==="$"?s:/[%p]/.test(L)?d:"",Q=ot[L],ft=/[defgprs%]/.test(L);C=C===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function q(x){var z=gt,V=pt,$,tt,W;if(L==="c")V=Q(x)+V,x="";else{x=+x;var R=x<0||1/x<0;if(x=isNaN(x)?g:Q(Math.abs(x),C),M&&(x=Nt(x)),R&&+x==0&&c!=="+"&&(R=!1),z=(R?c==="("?c:h:c==="-"||c==="("?"":c)+z,V=(L==="s"?rt[8+ht/3]:"")+V+(R&&c==="("?")":""),ft){for($=-1,tt=x.length;++$<tt;)if(W=x.charCodeAt($),48>W||W>57){V=(W===46?i+x.slice($+1):x.slice($))+V,x=x.slice(0,$);break}}}y&&!f&&(x=e(x,1/0));var O=z.length+x.length+V.length,A=O<F?new Array(F-O+1).join(S):"";switch(y&&f&&(x=e(A+x,A.length?F-V.length:1/0),A=""),r){case"<":x=z+x+V+A;break;case"=":x=z+A+x+V;break;case"^":x=A.slice(0,O=A.length>>1)+z+x+V+A.slice(O);break;default:x=A+z+x+V;break}return l(x)}return q.toString=function(){return m+""},q}function T(m,S){var r=p((m=G(m),m.type="f",m)),c=Math.max(-8,Math.min(8,Math.floor(It(S)/3)))*3,o=Math.pow(10,-c),f=rt[8+c/3];return function(F){return r(o*F)+f}}return{format:p,formatPrefix:T}}var U,ct;Ot({thousands:",",grouping:[3],currency:["$",""]});function Ot(t){return U=Rt(t),ct=U.format,U.formatPrefix,U}const Ut={name:"PCV",props:[],data(){return{showTable:0,elHeight:0,all_data:[],elWidth:0,select_video:"",selectData:[],info_data:[]}},methods:{translate(t,e,a){return`translate(${t}, ${e}) rotate(${a})`}},created(){},updated(){},computed:{calcInfoData(){return this.info_data.sort((t,e)=>t.time-e.time),this.info_data.filter(t=>t.status!=3&&t.status!=0&&t.status!=4)}},mounted(){const t=P();this.dataSource=t.categorySource,this.select_video=t.select_video,this.all_data=t.all_data,t.$subscribe((e,a)=>{this.dataSource=a.categorySource,this.select_video=t.select_video,this.all_data=t.all_data})},watch:{select_video:{handler(){console.log(this.select_video),this.selectData=this.all_data[this.select_video],this.info_data=this.selectData.info}}}},Jt={class:"frameworkBody"},Xt=n("div",{style:{"text-align":"left","font-size":"24px",color:"white","font-weight":"bold",height:"40px"}}," \u53EF\u7528\u6027\u95EE\u9898\u5217\u8868 ",-1),Zt={style:{height:"calc(100% - 50px)",width:"100%","overflow-y":"auto","padding-right":"8px","margin-top":"10px"}},Gt={class:"problem-card-icon"},Yt={key:0,t:"1709486366176",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4381",width:"20",height:"20"},Kt=n("path",{d:"M512 0C229.23 0 0 229.23 0 512s229.23 512 512 512 512-229.23 512-512S794.77 0 512 0z m80 768a80 80 0 0 1-160 0v-32a80 80 0 0 1 160 0v32z m0-256a80 80 0 0 1-160 0V256a80 80 0 0 1 160 0v256z",fill:"#fda33e","p-id":"4382"},null,-1),Qt=[Kt],qt={key:1,t:"1709486728584",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7086",width:"20",height:"20"},te=n("path",{d:"M731.733333 294.4L450.133333 631.466667l-134.4-134.4-53.333333 53.333333 194.133333 194.133333L789.333333 345.6l-57.6-51.2zM512 992C247.466667 992 32 776.533333 32 512S247.466667 32 512 32 992 247.466667 992 512 776.533333 992 512 992z","p-id":"7087",fill:"#00FF7F"},null,-1),ee=[te],ie={class:"problem-card-time"},ae={class:"problem-card-description"};function se(t,e,a,s,i,l){return _(),v("div",Jt,[Xt,n("div",Zt,[(_(!0),v(B,null,I(l.calcInfoData,(d,h)=>(_(),v("div",{class:"problem-card",key:"problem_card_"+h},[n("div",Gt,[d.status==2?(_(),v("svg",Yt,Qt)):d.status==1?(_(),v("svg",qt,ee)):N("",!0)]),n("div",ie,D(parseInt(d.time/60/60).toString().padStart(2,"0")+":"+parseInt(d.time/60).toString().padStart(2,"0")+":"+(d.time%60).toString().padStart(2,"0")),1),n("div",ae,D(d.description),1)]))),128))])])}const oe=H(Ut,[["render",se]]);const ne={name:"PCV",props:[],data(){return{all_data:[],showPop:!1,dialogVisible:!1,selectShowLevel:1,loadingTag:!1,user_info:{name:"",gender:"",age:""},config:{src:"",videoHeight:1},pathSetting:"http://43.153.168.84:8080/",defaultShowTag:0,noneDisabledTag:{},select_video:"",main_data:[],showLevelTag:{showFirstTag:!1,showSecondTag:[]},elHeight:0,elWidth:0,playTag:1,currentPlayTime:0,repeatTime:-1,sumTime:0,marker_data:[],marker_time:{},player:{},state:{},progressBar:0,markerColor:["#5a9cf8","#00FF7F","#fda33e"],colorMap:["","#F6D962","#D5A138","#EF753A","#F08F70","#EB7D81","#B76E90","#986EA4","#9286B3","#8796BC","#A3BFCE","#B4D3B4","#D1EFFF","#89D1FF","#1B90FF","#0057D2","#002A86","#E2D8FF","#B894FF","#7858FF","#470CED","#1C0C6E","#FFDCF3","#FF8AF0","#F31DED","#A100C2","#510080","#FFDCE8","#FEADC8","#FA4F96","#BA066C","#71014B","#FFD5EA","#FF8CB2","#EE3939","#AA0808","#5A0404","#FFF3B8","#FFC933","#E76500","#A93E00","#6D1900","#EBF5CB","#97DD40","#36A41D","#256F3A","#164323","#C2FCEE","#2CE0BF","#049F9A","#046C7A","#02414C","#EAECEE","#A9B4BE","#5B738B","#354A5F","#1A2733"],dataSource:[],showInfo:!1,info_data:{tag:[]},already_time:{nowTime:-1,timeSlot:[],lastTime:-1},showTagList:[],allTagTimeData:{},preview_config:{},tagConfig:{addPoint:!1,loadingTag:!1,tag_name:"",tag_description:"",add_tag_level:"",selectData:[]},dataSelect:-1}},methods:{reviseTag(t,e){t.status=e,this.calcDeleteData.length==0&&(this.showPop=!1)},showAddDialog(t,e){this.tagConfig.tag_name="",this.tagConfig.addPoint=!0,this.tagConfig.selectData=e,t==1?this.tagConfig.add_tag_level="\u4E00":this.tagConfig.add_tag_level="\u4E8C",this.player.pause(),this.playTag=1},async addTag(){let t=-1;for(const e of this.dataSource){t=Math.max(t,e.id);for(const a of e.children)t=Math.max(t,a.id)}if(t+=1,this.tagConfig.tag_name,this.tagConfig.add_tag_level=="\u4E00"||this.tagConfig.selectData.id,this.tagConfig.add_tag_level=="\u4E00",this.dataSource,this.all_data,this.tagConfig.loadingTag=!0,this.tagConfig.add_tag_level=="\u4E00"){let e=this.dataSource.length+1;this.info_data.tag.push(e),this.tagConfig.selectData.push({id:t,l_id:e,level:1,label:this.tagConfig.tag_name,description:this.tagConfig.description,disabled:!1,children:[]})}else{let e=this.tagConfig.selectData.children.length+1;this.info_data.second_tag[this.tagConfig.selectData.l_id-1].push(e),this.tagConfig.selectData.children.push({id:t,l_id:1,cnt:e,level:2,label:this.tagConfig.tag_name,description:this.tagConfig.description,disabled:!1,children:[]})}this.tagConfig.addPoint=!1,this.tagConfig.loadingTag=!1},showDialog(t){this.dialogVisible=t},selectPreview(t,e){this.player.pause(),this.playTag=1;const a=t.time,s=e,i=e+" "+parseInt(a/60/60).toString().padStart(2,"0")+":"+parseInt(a/60).toString().padStart(2,"0")+":"+(a%60).toString().padStart(2,"0");this.preview_config={time:a,video_id:s,name:i},this.dialogVisible=!this.dialogVisible},focusTag(t){if(t=="main"){this.showLevelTag.showFirstTag=!this.showLevelTag.showFirstTag;for(let e in this.showLevelTag.showSecondTag)this.showLevelTag.showSecondTag[e]=!1}else{this.showLevelTag.showFirstTag=!1,this.showLevelTag.showSecondTag[t]=!this.showLevelTag.showSecondTag[t];for(let e in this.showLevelTag.showSecondTag)e!=t&&(this.showLevelTag.showSecondTag[e]=!1)}},selectTag(t,e,a,s){const i=t.indexOf(e);i==-1?(t.push(e),typeof a!="number"&&(a.second_tag[e]=[],this.showLevelTag.showSecondTag.push(!1),typeof this.noneDisabledTag[s]>"u"&&(this.noneDisabledTag[s]=0),this.noneDisabledTag[s]++)):(t.splice(i,1),typeof a!="number"&&(this.showLevelTag.showSecondTag.splice(i,1),this.noneDisabledTag[s]--))},clickDecision(t){this.info_data.status=t,this.showInfo=!1},chooseTime(t){this.player.currentTime(t)},clickBar(t){let e=t.clientX;e-=20;let a=this.$refs.progressBar.offsetWidth,s=Math.floor(this.sumTime*(e/a));this.player.currentTime(s)},clickMarker(t){this.player.currentTime(t.time),this.playTag&&(this.player.play(),this.playTag=!this.playTag)},showMarkerDialog(t){this.showInfo||(this.showInfo=!this.showInfo),document.getElementById("dialogDiv")!=null&&this.$nextTick(()=>{this.$refs.dialogDiv.scrollTop=0});let e={showFirstTag:!1,showSecondTag:[]};for(let a in t.tag)e.showSecondTag.push(!1);this.showLevelTag=e,this.info_data=t},AddMarker(t){this.showInfo||(this.showInfo=!this.showInfo),document.getElementById("dialogDiv")!=null&&this.$nextTick(()=>{this.$refs.dialogDiv.scrollTop=0});let e=this.main_data.info.length,a=t/this.sumTime*100,s={id:e+1,percentage:a,status:-1,time:t,description:"",tag:[],second_tag:{},user_said:"",reason:""};this.main_data.info.push(s),this.marker_data.push(this.main_data.info[this.main_data.info.length-1]),this.marker_time[t]=this.marker_data[this.marker_data.length-1],this.info_data=this.marker_time[t]},async submitMarker(){this.info_data.status=0},translate(t,e,a){return`translate(${t}, ${e}) rotate(${a})`},handleEvent(t){},handleMounted(t){this.player=t.player,this.state=t.state},playVideo(){this.playTag?(this.player.play(),console.log("play")):(this.player.pause(),console.log("pause")),this.playTag=!this.playTag},calcMarker(t,e){let a=new Array,s=new Object;this.user_info={gender:t.gender,age:t.year,name:t.name};for(const l of t.info){let d=l;d.percentage=l.time/this.sumTime*100,a.push(d),s[d.time]=a[a.length-1]}let i={};for(const l of a)for(const d of l.tag){let h=this.dataSource[d-1].id;if(typeof i[h]>"u"&&(i[h]=0),i[h]++,typeof l.second_tag[d]<"u")for(const g of l.second_tag[d]){let p=this.dataSource[d-1].children[g-1].id;typeof i[p]>"u"&&(i[p]=0),i[p]++}}return this.noneDisabledTag=i,[a,s]},calcAllTag(t){let e={};for(const a in t){const s=a;for(const i of t[a].info)for(const l of i.tag)if(typeof e[this.dataSource[l-1].id]>"u"&&(e[this.dataSource[l-1].id]={}),typeof e[this.dataSource[l-1].id][s]>"u"&&(e[this.dataSource[l-1].id][s]=[]),e[this.dataSource[l-1].id][s].push(i),typeof i.second_tag[l]<"u")for(const d of i.second_tag[l])typeof e[this.dataSource[l-1].children[d-1].id]>"u"&&(e[this.dataSource[l-1].children[d-1].id]={}),typeof e[this.dataSource[l-1].children[d-1].id][s]>"u"&&(e[this.dataSource[l-1].children[d-1].id][s]=[]),e[this.dataSource[l-1].children[d-1].id][s].push(i)}return e}},components:{VideoPlayer:ut,PreviewVideoPlayer:Y},created(){},computed:{calcMarkerData(){return this.marker_data.filter(t=>t.status!=3&&t.status!=4)},calcDeleteData(){return this.marker_data.filter(t=>t.status==3)}},mounted(){this.elHeight=this.$refs.mainView.offsetHeight,this.elWidth=this.$refs.mainView.offsetWidth,this.elHeight*2>this.elWidth?this.config.videoHeight=this.elWidth/2:this.config.videoHeight=this.elHeight;const t=P();if(this.dataSelect=t.dataSelect,this.all_data=t.all_data,this.dataSource=t.categorySource,this.select_video=t.select_video,this.dataSource.length!=0&&(this.allTagTimeData=this.calcAllTag(this.all_data)),this.main_data=this.all_data[this.select_video],this.showTagList.length==0){let e=[];for(let a in this.dataSource)e.push(this.dataSource[a].id);this.showTagList=e}t.$subscribe((e,a)=>{if(console.log(this.dataSelect,t.dataSelect),this.dataSelect=t.dataSelect,this.all_data=a.all_data,this.dataSource=a.categorySource,this.showTagList=a.showTagList,this.selectShowLevel=a.selectShowLevel,this.select_video=t.select_video,this.showTagList.length==0){let s=[];for(let i in this.dataSource){s.push(this.dataSource[i].id);for(let l in this.dataSource[i].children)s.push(this.dataSource[i].children[l].id)}this.showTagList=s,this.defaultShowTag=1}})},watch:{dataSelect:{handler(t,e){console.log(t,e),this.dataSelect=t,console.log(this.$data)}},all_data:{handler(){this.dataSource.length!=0&&(this.allTagTimeData=this.calcAllTag(this.all_data))},deep:!0},select_video:{handler(t,e){this.sumTime=0,this.noneDisabledTag={},this.playTag=1,e!=""&&typeof this.all_data=="object"&&typeof this.all_data[e]<"u"&&(typeof this.all_data[e].already_time>"u"&&(this.all_data[e].already_time=this.already_time),this.all_data[e].already_time=this.already_time),t!=""&&typeof this.all_data=="object"&&typeof this.all_data[e]<"u"&&(typeof this.all_data[t].already_time>"u"&&(this.all_data[t].already_time={nowTime:-1,timeSlot:[],lastTime:-1}),this.already_time=this.all_data[t].already_time);const a=P();this.select_video!=""&&(this.config.src=this.pathSetting+"AI_Tool/"+this.select_video+"/video.mp4",this.main_data=this.all_data[this.select_video],this.$nextTick(()=>{this.player.currentTime(a.currentPlayTime)}))}},showTagList:{handler(){}},state:{handler(){if(this.currentPlayTime=parseInt(this.state.currentTime),isNaN(this.state.duration)||(this.sumTime=parseInt(this.state.duration)),this.sumTime!=0&&(this.progressBar=this.currentPlayTime/this.sumTime*100),this.showInfo==!0&&typeof this.marker_time[this.repeatTime+1]<"u"&&(this.showInfo=!1),typeof this.marker_time[this.currentPlayTime]<"u"&&this.repeatTime!=this.currentPlayTime&&this.marker_time[this.currentPlayTime].status!=3&&this.showMarkerDialog(this.marker_time[this.currentPlayTime]),this.repeatTime=this.currentPlayTime,this.already_time.nowTime==-1)this.currentPlayTime==1?this.already_time.timeSlot.push([0,1]):this.currentPlayTime>1&&this.already_time.timeSlot.push([this.currentPlayTime,this.currentPlayTime]),this.already_time.lastTime=this.currentPlayTime,this.already_time.nowTime=0;else if(this.already_time.lastTime==this.currentPlayTime-1)this.already_time.lastTime=this.currentPlayTime,this.already_time.timeSlot[this.already_time.nowTime][1]=this.currentPlayTime;else{let t=-1;for(let e in this.already_time.timeSlot)if(this.currentPlayTime>=this.already_time.timeSlot[e][0]&&this.currentPlayTime<=this.already_time.timeSlot[e][1]){t=e;break}t==-1?(this.already_time.timeSlot.push([this.currentPlayTime,this.currentPlayTime]),this.already_time.nowTime=this.already_time.timeSlot.length-1,this.already_time.lastTime=this.currentPlayTime):this.already_time.nowTime=t}},deep:!0},sumTime:{handler(){this.dataSource.length!=0&&([this.marker_data,this.marker_time]=this.calcMarker(this.main_data,this.all_data))}},noneDisabledTag:{handler(){const t=P();t.noneDisabledTag=this.noneDisabledTag},deep:!0}}},le={class:"frameworkBody"},re={style:{height:"30px","text-align":"left","font-size":"24px",color:"white","font-weight":"bold","justify-content":"space-between",display:"flex"}},de=n("span",null,"\u89C6\u9891\u5206\u6790",-1),he={style:{width:"100%",height:"calc(100% - 30px)","margin-top":"10px"}},ce=n("a",{style:{position:"absolute","margin-top":"1px"}},[n("svg",{t:"1708679239889",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1495",width:"30",height:"30"},[n("path",{d:"M536 480v192a16 16 0 0 1-16 16h-16a16 16 0 0 1-16-16V480a16 16 0 0 1 16-16h16a16 16 0 0 1 16 16z m-32-128h16a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16h-16a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16z m8 448c159.056 0 288-128.944 288-288s-128.944-288-288-288-288 128.944-288 288 128.944 288 288 288z m0 48c-185.568 0-336-150.432-336-336s150.432-336 336-336 336 150.432 336 336-150.432 336-336 336z",fill:"#ffffff","p-id":"1496"})])],-1),ge={style:{fontSize:"16px",lineHeight:1.5,color:"white"}},pe=n("h3",null,"\u7528\u6237\u63CF\u8FF0",-1),fe={style:{"margin-bottom":"10px","padding-right":"10px"}},ue={style:{padding:"5px 0px 10px 0px"}},_e=n("div",{class:"align-class"},[n("svg",{t:"1707271687917",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4224",width:"15",height:"15"},[n("path",{d:"M209.92 988.16c-15.36 0-30.72-15.36-30.72-30.72s15.36-30.72 30.72-30.72h471.04c153.6 0 281.6-128 281.6-281.6s-128-281.6-281.6-281.6H102.4l220.16 220.16c5.12 5.12 10.24 10.24 10.24 20.48 0 5.12-5.12 15.36-10.24 20.48-5.12 5.12-10.24 10.24-20.48 10.24-5.12 0-15.36-5.12-20.48-10.24L10.24 353.28c-5.12-5.12-10.24-10.24-10.24-20.48 0-5.12 5.12-15.36 10.24-20.48L281.6 40.96c5.12-5.12 10.24-10.24 20.48-10.24 5.12 0 15.36 5.12 20.48 10.24 0 10.24 5.12 15.36 5.12 25.6 0 5.12-5.12 15.36-10.24 20.48L97.28 307.2h583.68a343.04 343.04 0 0 1 0 686.08H209.92z",fill:"#ffffff","p-id":"4225"})]),w(" \xA0 \u521D\u59CB\u4F4D\u7F6E ")],-1),me={key:0,class:"align-class"},ve=n("svg",{t:"1706253575488",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4211",width:"20",height:"20"},[n("path",{d:"M817.088 484.96l-512-323.744C295.232 154.976 282.752 154.592 272.576 160.224 262.336 165.856 256 176.608 256 188.256l0 647.328c0 11.648 6.336 22.4 16.576 28.032 4.8 2.656 10.112 3.968 15.424 3.968 5.952 0 11.904-1.664 17.088-4.928l512-323.616C826.368 533.184 832 522.976 832 512 832 501.024 826.368 490.816 817.088 484.96z",fill:"#ffffff","p-id":"4212"})],-1),we={key:1,class:"align-class"},ye=n("svg",{t:"1706534722560",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4218",width:"20",height:"20"},[n("path",{d:"M304 176h80v672h-80zM712 176h-64c-4.4 0-8 3.6-8 8v656c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V184c0-4.4-3.6-8-8-8z","p-id":"4219",fill:"#ffffff"})],-1),xe={key:0,style:{padding:"5px 0px 10px 0px"}},Se=n("svg",{t:"1707272509861",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"11129",width:"15",height:"15"},[n("path",{d:"M511.6 63.6c-246.9 0-448 201.2-448 448 0 247.3 201.2 448 448 448s448-200.7 448-448c0-246.9-200.7-448-448-448z m259.9 318.5L474.6 699.3c-7 7.3-16.5 12.1-27.4 12.1-10.5 0-20.5-4.7-27.4-12.1L252 520c-7-7.3-11.5-17.8-11.5-29.4 0-23.1 17.5-41.4 38.9-41.4 10.5 0 20.5 4.7 27.4 12.1l140.7 149.9 270-287.8c7-7.3 16.5-12.1 27.4-12.1 21.5 0 38.9 18.3 38.9 41.4-0.8 11.6-5.3 22.1-12.3 29.4z m0 0","p-id":"11130",fill:"#ffffff"})],-1),Te=n("svg",{t:"1706257862659",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9466",width:"15",height:"15"},[n("path",{d:"M512 64c126.677333 3.328 232.192 47.146667 316.501333 131.498667C912.853333 279.808 956.672 385.28 960 512c-3.328 126.677333-47.146667 232.192-131.498667 316.501333C744.192 912.853333 638.72 956.672 512 960c-126.677333-3.328-232.192-47.146667-316.501333-131.498667C111.146667 744.192 67.328 638.72 64 512c3.328-126.677333 47.146667-232.192 131.498667-316.501333C279.808 111.146667 385.28 67.328 512 64zM512 256c-17.322667 0-31.658667 6.357333-43.008 19.029333A58.197333 58.197333 0 0 0 453.973333 320l23.04 256a35.925333 35.925333 0 0 0 11.477334 22.485333 34.048 34.048 0 0 0 23.466666 8.533334 33.621333 33.621333 0 0 0 23.466667-8.533334 36.138667 36.138667 0 0 0 11.52-22.485333l23.04-256a57.984 57.984 0 0 0-15.018667-44.970667A55.381333 55.381333 0 0 0 511.914667 256H512z m0 512c14.677333-0.64 26.88-5.674667 36.522667-15.018667 9.642667-9.344 14.506667-21.333333 14.506666-35.968A49.578667 49.578667 0 0 0 512 665.984a49.493333 49.493333 0 0 0-50.986667 51.029333c0 14.677333 4.821333 26.666667 14.506667 35.968 9.642667 9.301333 21.802667 14.293333 36.48 15.018667z",fill:"white","fill-opacity":".96","p-id":"9467"})],-1),be=n("svg",{t:"1707272411978",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7920",width:"15",height:"15"},[n("path",{d:"M512 64.5C264.85 64.5 64.5 264.85 64.5 512S264.85 959.5 512 959.5 959.5 759.15 959.5 512 759.15 64.5 512 64.5z m235.21 599.09c16.06 13.81 17.89 38.03 4.08 54.09-7.59 8.83-18.31 13.36-29.1 13.36-8.85 0-17.74-3.05-24.98-9.26L512 562.59 326.79 721.78a38.22 38.22 0 0 1-24.98 9.26c-10.79 0-21.52-4.53-29.1-13.36-13.81-16.06-11.98-40.28 4.08-54.09L453.15 512 276.79 360.42c-16.06-13.81-17.89-38.03-4.08-54.09 13.81-16.07 38.01-17.89 54.09-4.1L512 461.42l185.2-159.19c16.08-13.8 40.29-11.96 54.09 4.1 13.81 16.06 11.98 40.28-4.08 54.09L570.85 512.01l176.36 151.58z","p-id":"7921",fill:"white"})],-1),ke={key:1,style:{padding:"5px 0px 10px 0px"}},Ce=n("svg",{t:"1707272509861",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"11129",width:"15",height:"15"},[n("path",{d:"M511.6 63.6c-246.9 0-448 201.2-448 448 0 247.3 201.2 448 448 448s448-200.7 448-448c0-246.9-200.7-448-448-448z m259.9 318.5L474.6 699.3c-7 7.3-16.5 12.1-27.4 12.1-10.5 0-20.5-4.7-27.4-12.1L252 520c-7-7.3-11.5-17.8-11.5-29.4 0-23.1 17.5-41.4 38.9-41.4 10.5 0 20.5 4.7 27.4 12.1l140.7 149.9 270-287.8c7-7.3 16.5-12.1 27.4-12.1 21.5 0 38.9 18.3 38.9 41.4-0.8 11.6-5.3 22.1-12.3 29.4z m0 0","p-id":"11130",fill:"#ffffff"})],-1),Fe=n("svg",{t:"1707272411978",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7920",width:"15",height:"15"},[n("path",{d:"M512 64.5C264.85 64.5 64.5 264.85 64.5 512S264.85 959.5 512 959.5 959.5 759.15 959.5 512 759.15 64.5 512 64.5z m235.21 599.09c16.06 13.81 17.89 38.03 4.08 54.09-7.59 8.83-18.31 13.36-29.1 13.36-8.85 0-17.74-3.05-24.98-9.26L512 562.59 326.79 721.78a38.22 38.22 0 0 1-24.98 9.26c-10.79 0-21.52-4.53-29.1-13.36-13.81-16.06-11.98-40.28 4.08-54.09L453.15 512 276.79 360.42c-16.06-13.81-17.89-38.03-4.08-54.09 13.81-16.07 38.01-17.89 54.09-4.1L512 461.42l185.2-159.19c16.08-13.8 40.29-11.96 54.09 4.1 13.81 16.06 11.98 40.28-4.08 54.09L570.85 512.01l176.36 151.58z","p-id":"7921",fill:"white"})],-1),Me={"element-loading-background":"rgba(122, 122, 122, 0.8)",style:{width:"100%",height:"100px","margin-top":"-35px"}},De=n("h3",{style:{color:"white","text-align":"left"}},"\u6807\u7B7E\u540D\u79F0",-1),Le=n("br",null,null,-1),Ve=n("h3",{style:{color:"white","text-align":"left"}},"\u6807\u7B7E\u5B9A\u4E49",-1),Pe={style:{padding:"30px 0px 10px 0px"}},Be={id:"mainView",ref:"mainView",class:"align-class",style:{height:"calc(100% - 95px)",width:"100%"}},Ae={style:{width:"100%",height:"85px","background-color":"rgba(83, 83, 83, 0)"}},ze={style:{height:"50px",width:"100%",padding:"0px 0px 0px 0px"},class:"align-class"},Ee={style:{height:"0px",width:"100%"},class:"align-class"},Ie={id:"progressBar",ref:"progressBar",style:{width:"100%",height:"8px","background-color":"#5d5f67","border-radius":"20px"}},$e=["onClick"],He=n("div",{id:"playBar",style:{position:"absolute",left:"0px",top:"8px",width:"100%",height:"3px","background-color":"#5d5f67","border-radius":"0px"}},null,-1),je={style:{"justify-content":"space-between",display:"flex",position:"absolute",bottom:"0px",height:"30px",width:"100%"}},Ne={style:{height:"30px"},class:"align-class"},We={key:0,t:"1706253575488",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4211",width:"30",height:"30"},Re=n("path",{d:"M817.088 484.96l-512-323.744C295.232 154.976 282.752 154.592 272.576 160.224 262.336 165.856 256 176.608 256 188.256l0 647.328c0 11.648 6.336 22.4 16.576 28.032 4.8 2.656 10.112 3.968 15.424 3.968 5.952 0 11.904-1.664 17.088-4.928l512-323.616C826.368 533.184 832 522.976 832 512 832 501.024 826.368 490.816 817.088 484.96z",fill:"#ffffff","p-id":"4212"},null,-1),Oe=[Re],Ue={key:1,t:"1706534722560",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4218",width:"30",height:"30"},Je=n("path",{d:"M304 176h80v672h-80zM712 176h-64c-4.4 0-8 3.6-8 8v656c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V184c0-4.4-3.6-8-8-8z","p-id":"4219",fill:"#ffffff"},null,-1),Xe=[Je],Ze=n("svg",{t:"1706254098018",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5623",width:"25",height:"25"},[n("path",{d:"M483.157333 71.466667A32 32 0 0 1 512 53.333333c253.312 0 458.666667 205.354667 458.666667 458.666667S765.312 970.666667 512 970.666667 53.333333 765.312 53.333333 512c0-188.16 113.28-349.738667 275.2-420.48a32 32 0 1 1 25.6 58.624 394.666667 394.666667 0 1 0 229.632-26.325333l38.570667 48.213333a32 32 0 0 1-50.005333 39.978667l-85.333334-106.666667a32 32 0 0 1-3.84-33.877333z m-42.666666 262.357333a32 32 0 0 1 18.176 28.842667v298.666666a32 32 0 0 1-64 0v-232.106666l-54.656 43.776a32 32 0 0 1-40.021334-50.005334l106.666667-85.333333a32 32 0 0 1 33.877333-3.84zM608 394.666667a42.666667 42.666667 0 0 0-42.666667 42.666666v149.333334a42.666667 42.666667 0 1 0 85.333334 0v-149.333334a42.666667 42.666667 0 0 0-42.666667-42.666666z m-106.666667 42.666666a106.666667 106.666667 0 0 1 213.333334 0v149.333334a106.666667 106.666667 0 0 1-213.333334 0v-149.333334z","p-id":"5624",fill:"white"})],-1),Ge=[Ze],Ye=n("svg",{t:"1706253984610",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4390",width:"25",height:"25"},[n("path",{d:"M53.333333 512C53.333333 258.688 258.688 53.333333 512 53.333333a32 32 0 0 1 25.002667 52.010667l-85.333334 106.666667a32 32 0 0 1-50.005333-40.021334l38.528-48.128C256.512 157.568 117.333333 318.549333 117.333333 512A394.666667 394.666667 0 1 0 669.866667 150.186667a32 32 0 0 1 25.6-58.666667A458.752 458.752 0 0 1 970.666667 512c0 253.312-205.354667 458.666667-458.666667 458.666667S53.333333 765.312 53.333333 512z m387.2-178.176a32 32 0 0 1 18.133334 28.842667v298.666666a32 32 0 0 1-64 0v-232.106666l-54.656 43.776a32 32 0 0 1-40.021334-50.005334l106.666667-85.333333a32 32 0 0 1 33.877333-3.84zM608 394.666667a42.666667 42.666667 0 0 0-42.666667 42.666666v149.333334a42.666667 42.666667 0 1 0 85.333334 0v-149.333334a42.666667 42.666667 0 0 0-42.666667-42.666666z m-106.666667 42.666666a106.666667 106.666667 0 0 1 213.333334 0v149.333334a106.666667 106.666667 0 0 1-213.333334 0v-149.333334z","p-id":"4391",fill:"#ffffff"})],-1),Ke=[Ye],Qe={style:{color:"white"}},qe=mt('<div class="align-class" style="color:white;height:30px;font-size:16px;"><div class="align-class"><div style="background-color:#00FF7F;height:12px;width:8px;border-radius:4px;"></div> \xA0\xA0\u540C\u610F\xA0\xA0</div><div class="align-class"><div style="background-color:#fda33e;height:12px;width:8px;border-radius:4px;"></div> \xA0\xA0\u5F85\u5B9A\xA0\xA0</div><div class="align-class"><div style="background-color:#5a9cf8;height:12px;width:8px;border-radius:4px;"></div> \xA0\xA0\u672A\u5904\u7406\xA0\xA0</div></div>',1),ti={class:"align-class",style:{height:"30px"}},ei=n("svg",{t:"1709351288980",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9658",width:"25",height:"25"},[n("path",{d:"M276.885468 0h470.228952v73.282434h-470.228952zM41.770992 172.091583h940.457903v73.282434H41.770992zM383.02286 298.259506h73.282434v486.656431h-73.282434zM567.694594 298.259506h73.282434v486.656431h-73.282434z","p-id":"9659",fill:"#ffffff"}),n("path",{d:"M775.267088 298.259506l-47.511445 652.457938H296.305313L248.7328 298.259506h-73.282434l50.381673 691.725109a36.641217 36.641217 0 0 0 36.641217 34.015263h499.602994a36.641217 36.641217 0 0 0 36.641217-34.015263l50.07633-691.725109z","p-id":"9660",fill:"#ffffff"})],-1),ii={key:0,style:{position:"absolute",top:"-5px",right:"-5px","background-color":"red",width:"15px",height:"15px","font-size":"10px",color:"white","border-radius":"100px"}},ai={style:{"max-height":"300px",width:"100%",padding:"0px 0px","overflow-y":"auto"}},si=n("span",{style:{"font-style":"italic","font-weight":"bold","text-decoration":"underline",color:"rgb(64, 158, 255)"}},"\u65F6\u95F4:",-1),oi=n("span",{style:{"font-style":"italic","font-weight":"bold","text-decoration":"underline",color:"rgb(64, 158, 255)"}},"\u63CF\u8FF0:",-1),ni={style:{width:"100%","justify-content":"center",display:"flex","margin-top":"10px"}};function li(t,e,a,s,i,l){const d=k("PreviewVideoPlayer"),h=k("el-popover"),g=k("el-input"),p=k("el-button"),T=k("el-dialog"),m=k("video-player"),S=dt("loading");return _(),v(B,null,[u(d,{dialogVisible:i.dialogVisible,config:i.preview_config,onShowDialog:l.showDialog},null,8,["dialogVisible","config","onShowDialog"]),n("div",le,[n("div",re,[de,J(n("span",{style:{"font-size":"20px"}},"\u7F16\u53F7: "+D("V"+i.select_video.substr(1))+" \u6027\u522B: "+D(i.user_info.gender)+" \u5E74\u9F84: "+D(i.user_info.age),513),[[_t,i.select_video!=""]])]),n("div",he,[u(T,{modelValue:i.showInfo,"onUpdate:modelValue":e[8]||(e[8]=r=>i.showInfo=r),title:parseInt(i.info_data.time/60/60).toString().padStart(2,"0")+":"+parseInt(i.info_data.time/60).toString().padStart(2,"0")+":"+(i.info_data.time%60).toString().padStart(2,"0"),width:"25%","append-to":"#mainView",modal:!1,class:et("show_info_dialog"),"show-close":!1},{default:b(()=>[J((_(),v("div",{"element-loading-background":"rgba(122, 122, 122, 0.8)",id:"dialogDiv",ref:"dialogDiv",style:j({width:"100%",height:(i.info_data.status!=-1&&i.info_data.status!=3,145+"px"),color:"white",textAlign:"left",overflow:"auto"})},[n("h2",null,[w(" \u95EE\u9898\u63CF\u8FF0 "),n("span",null,[u(h,{placement:"bottom",title:"",width:250,trigger:"click","popper-class":"marker_description"},{reference:b(()=>[ce]),default:b(()=>[n("div",ge,[pe,w(" "+D('"'+i.info_data.user_said+'"'),1)])]),_:1})])]),n("div",fe,[u(g,{modelValue:i.info_data.description,"onUpdate:modelValue":e[0]||(e[0]=r=>i.info_data.description=r),autosize:{minRows:3,maxRows:3},type:"textarea",placeholder:"Please input"},null,8,["modelValue"])])],4)),[[S,i.loadingTag]]),n("div",ue,[u(p,{type:"primary",onClick:e[1]||(e[1]=r=>l.chooseTime(i.info_data.time))},{default:b(()=>[_e]),_:1}),u(p,{type:"primary",onClick:e[2]||(e[2]=r=>l.playVideo())},{default:b(()=>[i.playTag==1?(_(),v("div",me,[ve,w(" \xA0 \u64AD\u653E\u89C6\u9891 ")])):(_(),v("div",we,[ye,w(" \xA0 \u6682\u505C\u89C6\u9891 ")]))]),_:1})]),i.info_data.status!=-1&&i.info_data.status!=3?(_(),v("div",xe,[u(p,{type:"success",onClick:e[3]||(e[3]=r=>l.clickDecision(1))},{default:b(()=>[Se,w("\xA0 \u540C\u610F ")]),_:1}),u(p,{type:"warning",onClick:e[4]||(e[4]=r=>l.clickDecision(2))},{default:b(()=>[Te,w("\xA0 \u5F85\u5B9A ")]),_:1}),u(p,{type:"danger",onClick:e[5]||(e[5]=r=>l.clickDecision(3))},{default:b(()=>[be,w("\xA0 \u5220\u9664 ")]),_:1})])):(_(),v("div",ke,[u(p,{type:"success",onClick:e[6]||(e[6]=r=>l.submitMarker())},{default:b(()=>[Ce,w("\xA0 \u786E\u8BA4 ")]),_:1}),u(p,{type:"danger",onClick:e[7]||(e[7]=r=>l.clickDecision(3))},{default:b(()=>[Fe,w("\xA0 \u53D6\u6D88 ")]),_:1})]))]),_:1},8,["modelValue","title"]),u(T,{modelValue:i.tagConfig.addPoint,"onUpdate:modelValue":e[13]||(e[13]=r=>i.tagConfig.addPoint=r),title:"\u6DFB\u52A0"+i.tagConfig.add_tag_level+"\u7EA7\u6807\u7B7E",width:"15%","append-to":"#problems_tag",modal:!1,class:et("add_main_dialog")},{default:b(()=>[J((_(),v("div",Me,[De,n("span",null,[u(g,{modelValue:i.tagConfig.tag_name,"onUpdate:modelValue":e[9]||(e[9]=r=>i.tagConfig.tag_name=r),placeholder:"Please input"},null,8,["modelValue"])]),Le,Ve,n("span",null,[u(g,{modelValue:i.tagConfig.description,"onUpdate:modelValue":e[10]||(e[10]=r=>i.tagConfig.description=r),placeholder:"Please input"},null,8,["modelValue"])])])),[[S,i.tagConfig.loadingTag]]),n("div",Pe,[u(p,{onClick:e[11]||(e[11]=r=>i.tagConfig.addPoint=!1)},{default:b(()=>[w("\u53D6\u6D88")]),_:1}),u(p,{type:"primary",onClick:e[12]||(e[12]=r=>l.addTag())},{default:b(()=>[w("\u786E\u5B9A")]),_:1})])]),_:1},8,["modelValue","title"]),n("div",Be,[n("div",null,[u(m,{src:i.config.src,playsinline:"",controls:!1,volume:.2,height:1*i.config.videoHeight,"playback-rates":[.7,1,1.5,2],onMounted:l.handleMounted,onReady:e[14]||(e[14]=r=>l.handleEvent(r)),onPlay:e[15]||(e[15]=r=>l.handleEvent(r)),onPause:e[16]||(e[16]=r=>l.handleEvent(r)),onEnded:e[17]||(e[17]=r=>l.handleEvent(r)),onLoadeddata:e[18]||(e[18]=r=>l.handleEvent(r)),onWaiting:e[19]||(e[19]=r=>l.handleEvent(r)),onPlaying:e[20]||(e[20]=r=>l.handleEvent(r)),onCanplay:e[21]||(e[21]=r=>l.handleEvent(r)),onCanplaythrough:e[22]||(e[22]=r=>l.handleEvent(r)),onTimeupdate:e[23]||(e[23]=r=>{var c;return l.handleEvent((c=i.player)==null?void 0:c.currentTime())})},null,8,["src","height","onMounted"])])],512),n("div",Ae,[n("div",ze,[n("div",Ee,[n("div",{onClick:e[24]||(e[24]=(...r)=>l.clickBar&&l.clickBar(...r)),style:{width:"100%",height:"50px",cursor:"pointer"},class:"align-class"},[n("div",Ie,null,512),n("div",{style:j({position:"absolute",left:"0px",width:i.progressBar+"%",height:"8px",backgroundColor:"#fff",borderRadius:"20px"})},null,4),n("div",{style:j({backgroundColor:"white",border:"1px solid #5d5f67",height:"12px",width:"12px",position:"absolute",borderRadius:"12px",left:"calc("+i.progressBar+"% - 6px)"})},null,4)]),(_(!0),v(B,null,I(l.calcMarkerData,(r,c)=>(_(),v("div",{key:"main_"+c,class:"progress_marker",onClick:o=>l.clickMarker(r),style:j({backgroundColor:i.markerColor[r.status],height:"12px",width:"8px",position:"absolute","border-radius":"4px",left:"calc("+r.percentage+"% - 4px)"})},null,12,$e))),128)),He,(_(!0),v(B,null,I(i.already_time.timeSlot,(r,c)=>(_(),v("div",{key:"time_slot"+c,style:{width:"100%",position:"absolute",left:"0px"}},[n("div",{style:j({position:"absolute",left:"calc( "+r[0]/i.sumTime*100+"% )",top:"8px",width:"calc("+(r[1]-r[0])/i.sumTime*100+"%)",height:"3px",backgroundColor:"#fff",borderRadius:"0px"})},null,4)]))),128))])]),n("div",je,[n("div",null,[n("div",Ne,[n("a",{onClick:e[25]||(e[25]=r=>l.playVideo())},[i.playTag==1?(_(),v("svg",We,Oe)):(_(),v("svg",Ue,Xe))]),w("\xA0\xA0\xA0\xA0\xA0 "),n("a",{onClick:e[26]||(e[26]=r=>l.chooseTime(i.currentPlayTime-10>=0?i.currentPlayTime-10:0))},Ge),w("\xA0 "),n("a",{onClick:e[27]||(e[27]=r=>l.chooseTime(i.currentPlayTime+10<=i.sumTime?i.currentPlayTime+10:i.sumTime))},Ke),w("\xA0\xA0\xA0\xA0\xA0 "),n("div",Qe,D(parseInt(i.currentPlayTime/60/60).toString().padStart(2,"0")+":"+parseInt(i.currentPlayTime/60).toString().padStart(2,"0")+":"+(i.currentPlayTime%60).toString().padStart(2,"0"))+"\xA0/\xA0"+D(parseInt(i.sumTime/60/60).toString().padStart(2,"0")+":"+parseInt(i.sumTime/60).toString().padStart(2,"0")+":"+(i.sumTime%60).toString().padStart(2,"0")),1)])]),qe,n("div",null,[n("div",ti,[u(h,{visible:i.showPop,placement:"top",width:300,trigger:"click"},{reference:b(()=>[n("a",{onClick:e[28]||(e[28]=r=>i.showPop=!i.showPop)},[ei,l.calcDeleteData.length>0?(_(),v("div",ii,D(l.calcDeleteData.length),1)):N("",!0)])]),default:b(()=>[n("div",ai,[(_(!0),v(B,null,I(l.calcDeleteData,(r,c)=>(_(),v("div",{key:"delete_el"+c,style:{"background-color":"rgba(0, 0, 0, .3)",height:"auto","margin-bottom":"10px",padding:"10px",color:"white","font-size":"18px"}},[n("div",null,[si,w("\xA0"+D(parseInt(r.time/60/60).toString().padStart(2,"0")+":"+parseInt(r.time/60).toString().padStart(2,"0")+":"+(r.time%60).toString().padStart(2,"0")),1)]),n("div",null,[oi,w("\xA0"+D(r.description),1)]),n("div",ni,[u(p,{type:"success",onClick:o=>l.reviseTag(r,0)},{default:b(()=>[w("\u6062\u590D")]),_:2},1032,["onClick"]),u(p,{type:"danger",onClick:o=>l.reviseTag(r,4)},{default:b(()=>[w("\u5220\u9664")]),_:2},1032,["onClick"])])]))),128))])]),_:1},8,["visible"]),w(" \xA0\xA0\xA0\xA0\xA0 "),u(p,{style:{"margin-top":"-8px"},type:"primary",onClick:e[29]||(e[29]=r=>l.AddMarker(i.currentPlayTime))},{default:b(()=>[w(" \u6DFB\u52A0\u53EF\u7528\u6027\u95EE\u9898 ")]),_:1})])])])])])])],64)}const ri=H(ne,[["render",li]]);const di={name:"PCV",props:[],components:{PreviewVideoPlayer:Y},data(){return{video_cnt:0,select_video:"",elHeight:0,elWidth:0,video_list:[],config:{},category:[],showTagList:[],dialogVisible:!1}},methods:{translate(t,e,a){return`translate(${t}, ${e}) rotate(${a})`},showPreview(t){this.dialogVisible=!0,this.config={time:0,video_id:t,name:t}},showDialog(t){this.dialogVisible=t},scrollToRight(){let t=document.getElementById("video_list").offsetWidth,e=parseInt(t*this.video_list.length/this.elWidth)+1;this.video_cnt<e&&(this.video_cnt+=1,document.getElementById("recommendList").scrollTo({top:0,left:this.video_cnt*(this.elWidth/2),behavior:"smooth"}))},scrollToLeft(){let t=document.getElementById("video_list").offsetWidth;if(this.video_cnt>0){for(this.video_cnt-=1;this.video_cnt*(this.elWidth/2)>=t*(this.video_list.length-2);)this.video_cnt--;this.video_cnt<0&&(this.video_cnt=0),document.getElementById("recommendList").scrollTo({top:0,left:this.video_cnt*(this.elWidth/2),behavior:"smooth"})}},jaccardSimilarity(t,e){const a=this.intersection(t,e).size,s=this.union(t,e).size;return a/s},intersection(t,e){let a=new Set(t.map(JSON.stringify)),s=new Set(e.map(JSON.stringify));return new Set([...s].filter(i=>a.has(i)))},union(t,e){let a=new Set(t.map(JSON.stringify)),s=new Set(e.map(JSON.stringify));return new Set([...a,...s])},calcSimilarity(t){let e=new Array;for(let a in t){let s=new Array;for(let i in t[a].info)s.push(t[a].info[i].tag);a==this.select_video||e.push({id:a,data:s})}return e}},created(){},mounted(){this.elWidth=this.$refs.recommendList.offsetWidth;const t=P();t.$subscribe(e=>{this.select_video=t.select_video,this.category=t.categorySource,this.showTagList=t.showTagList,this.select_video!=""&&(this.video_list=this.calcSimilarity(t.all_data))})},watch:{}},Z=t=>(vt("data-v-7eb7e83b"),t=t(),wt(),t),hi={class:"frameworkBody"},ci=Z(()=>n("div",{style:{height:"30px","text-align":"left","font-size":"24px",color:"white","font-weight":"bold","justify-content":"space-between",display:"flex"}},[n("span",null,"\u89C6\u9891\u5217\u8868")],-1)),gi={style:{height:"calc(100% - 40px)"}},pi={ref:"recommendList",id:"recommendList",style:{height:"calc(100% - 0px)","margin-top":"10px","overflow-x":"hidden",width:"100%",display:"flex"}},fi={style:{height:"30px","text-align":"left"}},ui={style:{height:"calc(100% - 35px)"}},_i=["src"],mi=["onClick"],vi=Z(()=>n("div",{style:{"background-color":"white","border-radius":"80px",height:"80px"}},[n("svg",{t:"1705932141588",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4359",width:"80",height:"80"},[n("path",{d:"M374.272 333.312v355.328c0 30.208 20.992 40.448 45.568 26.112l288.768-175.104c25.088-15.872 25.088-40.448 0-54.784L419.84 309.76c-7.68-5.12-14.336-6.656-20.992-6.656-14.336-2.56-24.576 9.216-24.576 30.208zM1024 512c0 282.624-229.376 512-512 512S0 794.624 0 512 229.376 0 512 0s512 229.376 512 512z","p-id":"4360",fill:"#8a8a8a"})])],-1)),wi=[vi],yi={style:{position:"absolute",top:"calc(50% - 25px)",left:"10px"},t:"1705561614491",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4198",width:"25",height:"50"},xi=Z(()=>n("path",{fill:"white",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1)),Si=[xi],Ti={style:{position:"absolute",top:"calc(50% - 25px)",right:"10px"},t:"1705561614491",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4198",width:"25",height:"50"},bi=Z(()=>n("path",{fill:"white",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1)),ki=[bi];function Ci(t,e,a,s,i,l){const d=k("PreviewVideoPlayer");return _(),v(B,null,[u(d,{dialogVisible:i.dialogVisible,config:i.config,onShowDialog:l.showDialog},null,8,["dialogVisible","config","onShowDialog"]),n("div",hi,[ci,n("div",gi,[n("div",pi,[(_(!0),v(B,null,I(i.video_list,(h,g)=>(_(),v("div",{ref_for:!0,ref:"video_element",key:"video"+g,id:"video_list",style:{border:"0px solid white",height:"100%",color:"white","font-size":"20px",padding:"3px 10px 5px 10px"}},[n("div",fi,[n("div",null,D(h.id[0]=="P"?"V"+h.id.substr(1):h.id),1)]),n("div",ui,[n("img",{src:"AI_Tool/"+h.id+"/fig.png",alt:"",style:{height:"100%"}},null,8,_i),n("div",{class:"play_button align-class",onClick:p=>l.showPreview(h.id)},wi,8,mi)])]))),128))],512),n("div",{style:{position:"absolute",top:"calc(0px)",left:"0px",width:"50px",height:"calc(100% - 0px)","background-color":"rgba(0, 0, 0, .7)","border-radius":"0px"},class:"scroll-button",onClick:e[0]||(e[0]=(...h)=>l.scrollToLeft&&l.scrollToLeft(...h))},[(_(),v("svg",yi,Si))]),n("div",{style:{position:"absolute",top:"calc(0px)",right:"0px",width:"50px",height:"calc(100% - 0px)","background-color":"rgba(0, 0, 0, .7)","border-radius":"0px"},class:"scroll-button",onClick:e[1]||(e[1]=(...h)=>l.scrollToRight&&l.scrollToRight(...h))},[(_(),v("svg",Ti,ki))])])])],64)}const Fi=H(di,[["render",Ci],["__scopeId","data-v-7eb7e83b"]]);const Mi={name:"PCV",props:[],data(){return{elWidth:0,elHeight:0,viewTag:!0,select_video:"",all_data:[],category_data:[],pathSetting:"/",chart_data:[],showTagList:[],selectShowLevel:1,dialogVisible:!1,overviewTag:!1,config:{},colorMap:["","#F6D962","#D5A138","#EF753A","#F08F70","#EB7D81","#B76E90","#986EA4","#9286B3","#8796BC","#A3BFCE","#B4D3B4","#D1EFFF","#89D1FF","#1B90FF","#0057D2","#002A86","#E2D8FF","#B894FF","#7858FF","#470CED","#1C0C6E","#FFDCF3","#FF8AF0","#F31DED","#A100C2","#510080","#FFDCE8","#FEADC8","#FA4F96","#BA066C","#71014B","#FFD5EA","#FF8CB2","#EE3939","#AA0808","#5A0404","#FFF3B8","#FFC933","#E76500","#A93E00","#6D1900","#EBF5CB","#97DD40","#36A41D","#256F3A","#164323","#C2FCEE","#2CE0BF","#049F9A","#046C7A","#02414C","#EAECEE","#A9B4BE","#5B738B","#354A5F","#1A2733"]}},methods:{showDialog(t){this.dialogVisible=t},calcNetwork(t){let e=new Array;if(this.selectShowLevel==1){for(const a in this.all_data)if(this.overviewTag||this.select_video==""||this.select_video==a)for(const s in this.all_data[a].info)for(const i in this.all_data[a].info[s].tag){const l=this.all_data[a].info[s].tag[i]-1;if(this.overviewTag||this.showTagList.indexOf(this.category_data[l].id)!=-1){const d=this.all_data[a].info[s].time,h=a+" "+parseInt(d/60/60).toString().padStart(2,"0")+":"+parseInt(d/60).toString().padStart(2,"0")+":"+(d%60).toString().padStart(2,"0"),g=this.category_data[l].label,p=this.all_data[a].info[s].status;if(p!=3){let T=["#5a9cf8","#00FF7F","#ecb050"];e.push({source:h,source_type:3,source_color:T[p],target:g,target_type:1,target_color:this.colorMap[this.category_data[l].id],type:0,config:{time:d,video_id:a,name:h}}),e.push({source:this.select_video==""||this.overviewTag?"\u6240\u6709\u89C6\u9891":this.select_video,source_type:0,source_color:"#222c44",target:g,target_type:1,target_color:this.colorMap[this.category_data[l].id],type:1,config:{}})}}}}else for(const a in this.all_data)if(this.overviewTag||this.select_video==""||this.select_video==a)for(const s in this.all_data[a].info)for(const i in this.all_data[a].info[s].tag)for(const l in this.all_data[a].info[s].second_tag[this.all_data[a].info[s].tag[i]]){const d=this.all_data[a].info[s].tag[i]-1,h=this.all_data[a].info[s].second_tag[this.all_data[a].info[s].tag[i]][l]-1;if(this.overviewTag||this.showTagList.indexOf(this.category_data[d].children[h].id)!=-1){const g=this.all_data[a].info[s].time,p=a+" "+parseInt(g/60/60).toString().padStart(2,"0")+":"+parseInt(g/60).toString().padStart(2,"0")+":"+(g%60).toString().padStart(2,"0"),T=this.category_data[d].label,m=this.category_data[d].children[h].label,S=this.all_data[a].info[s].status;if(S!=3){let r=["#5a9cf8","#00FF7F","#ecb050"];e.push({source:p,source_type:3,source_color:r[S],target:m,target_type:2,target_color:this.colorMap[this.category_data[d].children[h].id],type:0,config:{time:g,video_id:a,name:p}}),e.push({source:T,source_type:1,source_color:this.colorMap[this.category_data[d].id],target:m,target_type:2,target_color:this.colorMap[this.category_data[d].children[h].id],type:1,config:{}}),e.push({source:this.select_video==""||this.overviewTag?"\u6240\u6709\u89C6\u9891":this.select_video,source_type:0,source_color:"#222c44",target:T,target_type:1,target_color:this.colorMap[this.category_data[d].id],type:2,config:{}})}}}return e},paintNetwork(t){function e(o){return Math.hypot(o.target.x-o.source.x,o.target.y-o.source.y),`
                    M${o.source.x},${o.source.y}
                    L${o.target.x},${o.target.y}
                `}let a=o=>{function f(C,M){C.active||o.alphaTarget(.3).restart(),M.fx=M.x,M.fy=M.y}function F(C,M){M.fx=C.x,M.fy=C.y}function y(C,M){C.active||o.alphaTarget(0),M.fx=null,M.fy=null}return Vt().on("start",f).on("drag",F).on("end",y)};const s=this.elWidth,i=this.elHeight,l=Array.from(new Set(t.map(o=>o.type)));let d=new Array;for(const o of t)d.push({id:o.source,color:o.source_color,type:o.source_type,config:o.type==0?o.config:{}}),d.push({id:o.target,color:o.target_color,type:o.target_type,config:{}});const h=Array.from(new Set(d.map(JSON.stringify))).map(JSON.parse),g=t.map(o=>Object.create(o)),p=yt(h).force("link",xt(g).id(o=>o.id)).force("charge",St().strength(-300/1e3*this.elHeight)).force("center",Tt(s/2,i/2)).force("x",bt()).force("y",kt());it("#all-network").remove();const T=E("#networkSvg").append("g").attr("id","all-network");E("#networkSvg").call(Ct().scaleExtent([1,10]).on("zoom",m));function m({transform:o}){E("#all-network").attr("transform",o)}T.append("defs").selectAll("marker").data(l).join("marker").attr("id",o=>`arrow-${o}`).attr("viewBox","0 -5 10 10").attr("refX",15).attr("refY",-.5).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("fill","red").attr("d","M0,-5L10,0L0,5");const S=T.append("g").attr("fill","none").attr("stroke-width",1.5).selectAll("path").data(g).join("path").attr("stroke",o=>"white"),r=T.append("g").attr("fill","currentColor").attr("stroke-linecap","round").attr("stroke-linejoin","round").selectAll("#nodes").attr("id","nodes").data(h).join("g").on("mouseenter",(o,f)=>{E("#text_node"+f.index).attr("display","flow")}).on("mouseout",(o,f)=>{E("#text_node"+f.index).attr("display",F=>F.type!=0?"none":"flow")}).on("click",(o,f)=>{f.type==3&&(this.dialogVisible=!this.dialogVisible,this.config=f.config)}).call(a(p));r.append("path").attr("stroke","white").attr("stroke-width",1.5).attr("fill",o=>o.color).attr("d",o=>["M-25 -15L-25 15L45 15L45 -15Z","M0,0a10,10 0 1, 0 20,0a10,10 0 1,0 -20,0","M0 -10L0 10L20 10L20 -10Z","M10 -10L5 0L10 10L15 0Z"][o.type]);const c=T.append("g").attr("fill","currentColor").attr("stroke-linecap","round").attr("stroke-linejoin","round").selectAll("#sentence").attr("id","sentence").data(h).join("g").attr("id",(o,f)=>"text_node"+o.index).attr("display",o=>o.type==0?"flex":"none");c.append("text").attr("x",10).attr("y",o=>o.type==0?".3em":"-1em").attr("text-anchor","middle").text(o=>o.id).clone(!0).lower().attr("fill","none").attr("stroke","white").attr("stroke-width",3),p.on("tick",()=>{S.attr("d",e),r.attr("transform",o=>`translate(${o.x-10},${o.y})`),c.attr("transform",o=>`translate(${o.x-10},${o.y})`)})},calcSun(t){let e={name:"all",text:"\u6240\u6709\u89C6\u9891",color:"#222c44",children:[]},a=new Object;if(this.selectShowLevel==1){for(const s in this.all_data)if(this.overviewTag||this.select_video==""||this.select_video==s)for(const i in this.all_data[s].info)for(const l in this.all_data[s].info[i].tag){const d=this.all_data[s].info[i].tag[l]-1;if(this.overviewTag||this.showTagList.indexOf(this.category_data[d].id)!=-1){const h=this.all_data[s].info[i].time,g=s+" "+parseInt(h/60/60).toString().padStart(2,"0")+":"+parseInt(h/60).toString().padStart(2,"0")+":"+(h%60).toString().padStart(2,"0"),p=this.category_data[d].label,T=this.category_data[d].id,m=this.all_data[s].info[i].status;if(m!=3){let S=["#5a9cf8","#00FF7F","#ecb050"];typeof a[T]>"u"&&(a[T]={name:T,text:p,children:[],color:this.colorMap[this.category_data[d].id],type:1}),a[T].children.push({name:g,text:g,value:1,color:S[m],config:{time:h,video_id:s,name:g},type:0})}}}for(const s in a)e.children.push(a[s]);console.log(e)}else{for(const s in this.all_data)if(this.overviewTag||this.select_video==""||this.select_video==s)for(const i in this.all_data[s].info)for(const l in this.all_data[s].info[i].tag)for(const d in this.all_data[s].info[i].second_tag[this.all_data[s].info[i].tag[l]]){const h=this.all_data[s].info[i].tag[l]-1,g=this.all_data[s].info[i].second_tag[this.all_data[s].info[i].tag[l]][d]-1;if(this.overviewTag||this.showTagList.indexOf(this.category_data[h].children[g].id)!=-1){const p=this.all_data[s].info[i].time,T=s+" "+parseInt(p/60/60).toString().padStart(2,"0")+":"+parseInt(p/60).toString().padStart(2,"0")+":"+(p%60).toString().padStart(2,"0"),m=this.category_data[h].label,S=this.category_data[h].id,r=this.category_data[h].children[g].label,c=this.category_data[h].children[g].id,o=this.all_data[s].info[i].status;if(o!=3){let f=["#5a9cf8","#00FF7F","#ecb050"];typeof a[S]>"u"&&(a[S]={name:S,text:m,children:[],color:this.colorMap[this.category_data[h].id],type:1,sub:{}}),typeof a[S].sub[c]>"u"&&(a[S].sub[c]={name:c,text:r,children:[],color:this.colorMap[this.category_data[h].children[g].id],type:2}),a[S].sub[c].children.push({name:T,text:T,value:1,color:f[o],config:{time:p,video_id:s,name:T},type:0})}}}for(let s in a){for(let i in a[s].sub)a[s].children.push(a[s].sub[i]);e.children.push(a[s])}}return e},paintSunBurst(t){console.log(t);const a=(this.elWidth>this.elHeight?this.elHeight:this.elWidth)/2*.95/(this.selectShowLevel+2),s=Ft(t).sum(o=>o.value).sort((o,f)=>f.value-o.value),i=Mt().size([2*Math.PI,s.height+1])(s);i.each(o=>o.current=o),console.log(i,s);const l=Dt().startAngle(o=>o.x0).endAngle(o=>o.x1).padAngle(o=>Math.min((o.x1-o.x0)/2,.005)).padRadius(a*1.5).innerRadius(o=>o.y0*a).outerRadius(o=>Math.max(o.y0*a,o.y1*a-1));it("#all-network").remove();const d=E("#networkSvg").append("g").attr("id","all-network").attr("transform",`translate(${this.elWidth/2}, ${this.elHeight/2})`);E("#networkSvg").on(".zoom",null);const h=d.append("g").selectAll("path").data(i.descendants()).join("path").attr("fill",o=>o.data.color).attr("fill-opacity",o=>(S(o.current)&&o.children,.6)).attr("pointer-events",o=>S(o.current)?"auto":"none").attr("d",o=>l(o.current));h.filter(o=>o.children).style("cursor","pointer").on("click",m),h.filter(o=>o.children==null).style("cursor","pointer").on("click",(o,f)=>{console.log(f),this.dialogVisible=!this.dialogVisible,this.config=f.data.config});const g=ct(",d");h.append("title").text(o=>`${o.ancestors().map(f=>f.data.name).reverse().join("/")}
${g(o.value)}`);const p=d.append("g").attr("pointer-events","none").attr("text-anchor","middle").style("user-select","none").selectAll("text").data(i.descendants()).join("text").attr("dy","0.35em").attr("fill-opacity",o=>+r(o.current)).attr("transform",o=>c(o.current)).attr("fill","white").text(o=>o.data.text),T=d.append("circle").datum(i).attr("r",a).attr("fill","none").attr("pointer-events","all").on("click",m);function m(o,f){console.log(f),T.datum(f.parent||i),i.each(y=>y.target={x0:Math.max(0,Math.min(1,(y.x0-f.x0)/(f.x1-f.x0)))*2*Math.PI,x1:Math.max(0,Math.min(1,(y.x1-f.x0)/(f.x1-f.x0)))*2*Math.PI,y0:Math.max(0,y.y0-f.depth),y1:Math.max(0,y.y1-f.depth)});const F=d.transition().duration(750);h.transition(F).tween("data",y=>{const C=Lt(y.current,y.target);return M=>y.current=C(M)}).filter(function(y){return+this.getAttribute("fill-opacity")||S(y.target)}).attr("fill-opacity",y=>(S(y.target)&&y.children,.6)).attr("pointer-events",y=>(S(y.target),"auto")).attrTween("d",y=>()=>l(y.current)),p.filter(function(y){return+this.getAttribute("fill-opacity")||r(y.target)}).transition(F).attr("fill-opacity",y=>(console.log(+r(y.target),r(y.target)),+r(y.target))).attrTween("transform",y=>()=>c(y.current))}function S(o){return o.y1<=3&&o.y0>=1&&o.x1>o.x0}function r(o){return o.y1<=3&&o.y0>=1&&(o.y1-o.y0)*(o.x1-o.x0)>.03}function c(o){const f=(o.x0+o.x1)/2*180/Math.PI,F=(o.y0+o.y1)/2*a;return`rotate(${f-90}) translate(${F},0) rotate(${f<180?0:180})`}}},components:{PreviewVideoPlayer:Y},created(){},computed:{},mounted(){this.elHeight=this.$refs.networkView.offsetHeight,this.elWidth=this.$refs.networkView.offsetWidth;const t=P();if(this.all_data=t.all_data,this.category_data=t.categorySource,this.select_video=t.select_video,this.selectShowLevel=t.selectShowLevel,this.showTagList=t.showTagList,this.showTagList.length==0){let e=[];for(let a in this.category_data)e.push(this.category_data[a].id);this.showTagList=e}this.viewTag?(this.chart_data=this.calcNetwork(this.all_data),this.paintNetwork(this.chart_data)):(this.chart_data=this.calcSun(this.all_data),this.paintSunBurst(this.chart_data)),t.$subscribe((e,a)=>{if(this.all_data=a.all_data,this.category_data=a.categorySource,this.select_video=t.select_video,this.selectShowLevel=t.selectShowLevel,this.showTagList=t.showTagList,console.log(this.showTagList,this.showTagList.length),this.showTagList.length==0){let s=[];for(let i in this.category_data)s.push(this.category_data[i].id);this.showTagList=s}this.viewTag?(this.chart_data=this.calcNetwork(this.all_data),this.paintNetwork(this.chart_data)):(this.chart_data=this.calcSun(this.all_data),this.paintSunBurst(this.chart_data))})},watch:{overviewTag:{handler(){this.viewTag?(this.chart_data=this.calcNetwork(this.all_data),this.paintNetwork(this.chart_data)):(this.chart_data=this.calcSun(this.all_data),this.paintSunBurst(this.chart_data))},deep:!0},viewTag:{handler(){this.viewTag?(this.chart_data=this.calcNetwork(this.all_data),this.paintNetwork(this.chart_data)):(this.chart_data=this.calcSun(this.all_data),this.paintSunBurst(this.chart_data))}}}},Di={class:"frameworkBody"},Li={style:{height:"30px","text-align":"left","font-size":"24px",color:"white","font-weight":"bold","justify-content":"space-between",display:"flex"}},Vi=n("span",null,"\u603B\u4F53\u5206\u6790",-1),Pi={style:{"font-size":"20px"}},Bi={style:{width:"100%",height:"calc(100% - 30px)","margin-top":"10px"}},Ai={id:"networkView",ref:"networkView",class:"align-class",style:{height:"calc(100% - 20px)",width:"100%",border:"0px solid white"}},zi=n("svg",{id:"networkSvg",height:"100%",width:"100%"},null,-1),Ei=[zi];function Ii(t,e,a,s,i,l){const d=k("PreviewVideoPlayer"),h=k("el-button");return _(),v(B,null,[u(d,{dialogVisible:i.dialogVisible,config:i.config,onShowDialog:l.showDialog},null,8,["dialogVisible","config","onShowDialog"]),n("div",Di,[n("div",Li,[Vi,n("span",Pi,[u(h,{type:"warning",onClick:e[0]||(e[0]=g=>i.viewTag=!i.viewTag)},{default:b(()=>[w(D(i.viewTag==!1?"\u7F51\u7EDC\u56FE":"\u65ED\u65E5\u56FE"),1)]),_:1}),u(h,{type:"success",onClick:e[1]||(e[1]=g=>i.overviewTag=!0)},{default:b(()=>[w(" \u6982\u89C8\u6A21\u5F0F ")]),_:1}),u(h,{type:"primary",onClick:e[2]||(e[2]=g=>i.overviewTag=!1)},{default:b(()=>[w(" \u7B5B\u9009\u6A21\u5F0F ")]),_:1})])]),n("div",Bi,[n("div",Ai,Ei,512)])])],64)}const $i=H(Mi,[["render",Ii]]);const Hi={name:"APP",props:["msgH"],data(){return{msg1:"Hello, main!",leftShow:1,video_select:"",dataset_select:"",dataset_options:[{label:"Training",value:0},{label:"User Study",value:1}],video_options:[],all_video_options:[{label:"Training",options:[{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"}]},{label:"User Study",options:[{value:"P1",label:"V1"},{value:"P2",label:"V2"},{value:"P3",label:"V3"},{value:"P4",label:"V4"},{value:"P5",label:"V5"},{value:"P6",label:"V6"},{value:"P7",label:"V7"},{value:"P8",label:"V8"},{value:"P9",label:"V9"},{value:"P10",label:"V10"}]}]}},methods:{saveData(){const t=P(),e={videolist:t.video_list,category:t.categorySource,info:t.all_data,type:"baseline"},a=t.saveData(e);console.log(a)},switchView(){const t=P();this.leftShow=!this.leftShow,t.leftShow=this.leftShow},reload(){location.reload()}},created(){},mounted(){let t=P();t.$subscribe(()=>{this.leftShow=t.leftShow})},watch:{dataset_select:{handler(){this.video_options=this.all_video_options[this.dataset_select].options;const t=P();t.dataSelect=this.dataset_select,this.video_select="",t.select_video=this.video_select,this.dataset_select==1?(t.categorySource=Pt,t.all_data=Bt):(t.categorySource=At,t.all_data=zt)}},video_select:{handler(){const t=P();t.select_video=this.video_select,t.currentPlayTime=0,console.log(this.video_select);const e=Date.now();function a(s){const i=new Date(s),l=(i.getMonth()+1).toString().padStart(2,"0"),d=i.getDate().toString().padStart(2,"0"),h=i.getHours().toString().padStart(2,"0"),g=i.getMinutes().toString().padStart(2,"0"),p=i.getSeconds().toString().padStart(2,"0");return`${l}/${d} ${h}:${g}:${p}`}console.log(a(e),e),t.video_list.push({video:this.video_select,time:e,date:e})}}},components:{ControlList:oe,RecommendList:Fi,MainView:ri,NetworkView:$i}},ji={id:"navBar"},Ni={style:{"font-weight":"800","padding-left":"10px",position:"absolute"}},Wi={id:"version"},Ri={id:"version",style:{"font-size":"16px","font-style":"italic"}},Oi={style:{position:"absolute",right:"10px",top:"0px",display:"flex"}},Ui=n("span",{style:{"font-size":"20px"}},"\u6570\u636E\u96C6",-1),Ji=n("span",{style:{"font-size":"20px"}},"\u89C6\u9891",-1),Xi=n("svg",{t:"1709028086913",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4219",width:"20",height:"20"},[n("path",{d:"M708.388571 121.904762L902.095238 320.804571V828.952381a73.142857 73.142857 0 0 1-73.142857 73.142857H195.047619a73.142857 73.142857 0 0 1-73.142857-73.142857V195.047619a73.142857 73.142857 0 0 1 73.142857-73.142857h513.340952zM292.571429 195.023238L195.047619 195.047619v633.904762l97.52381-0.024381V536.380952h438.857142v292.547048L828.952381 828.952381V350.549333l-97.52381-100.156952V365.714286H292.571429V195.023238zM658.285714 609.52381H365.714286v219.40419h292.571428V609.52381z m-48.761904 73.142857v73.142857h-195.04762v-73.142857h195.04762z m48.761904-487.619048H365.714286v97.52381h292.571428V195.047619z","p-id":"4220",fill:"#ffffff"})],-1),Zi=n("svg",{t:"1709092783037",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1464",width:"20",height:"20"},[n("path",{d:"M691.2 307.2h-110.08l81.92-53.76c12.8-7.68 15.36-23.04 7.68-35.84-7.68-12.8-23.04-15.36-35.84-7.68L488.96 307.2l-7.68 5.12c-7.68 5.12-10.24 12.8-10.24 20.48s5.12 15.36 10.24 20.48l153.6 102.4c5.12 5.12 7.68 5.12 12.8 5.12 7.68 0 15.36-5.12 20.48-10.24 7.68-12.8 5.12-28.16-7.68-35.84L578.56 358.4H691.2c112.64 0 204.8 92.16 204.8 204.8s-92.16 204.8-204.8 204.8H332.8c-112.64 0-204.8-92.16-204.8-204.8s92.16-204.8 204.8-204.8h58.88c15.36 0 25.6-10.24 25.6-25.6s-10.24-25.6-25.6-25.6H332.8C192 307.2 76.8 422.4 76.8 563.2s115.2 256 256 256h358.4c140.8 0 256-115.2 256-256s-115.2-256-256-256z",fill:"#ffffff","p-id":"1465"})],-1),Gi={style:{height:"calc(100vh - 40px)",width:"calc(100% - 0px)"}},Yi={key:0,class:"framework",id:"videoView",style:{position:"absolute",left:"calc(10px)",top:"calc(5px)",height:"calc(75%)",width:"calc(70vw - 0px)"}},Ki={class:"framework",id:"controlView",style:{position:"absolute",right:"calc(10px)",top:"calc(5px)",height:"calc(100% - 10px)",width:"calc(30vw - 30px)"}},Qi={key:1,class:"framework",id:"recommendView",style:{position:"absolute",left:"calc(10px)",bottom:"calc(5px)",height:"calc(25% - 20px)",width:"calc(70vw)"}},qi={key:2,class:"framework",id:"networkView",style:{position:"absolute",left:"calc(10px)",top:"calc(5px)",height:"calc(100% - 10px)",width:"calc(70vw - 0px)"}};function ta(t,e,a,s,i,l){const d=k("router-link"),h=k("el-option"),g=k("el-select"),p=k("el-button"),T=k("MainView"),m=k("ControlList"),S=k("RecommendList"),r=k("NetworkView");return _(),v(B,null,[n("div",ji,[n("span",Ni,[w(" UX Analysis Tool "),n("span",Wi,[n("a",Ri,[u(d,{to:"/"},{default:b(()=>[w("Baseline Version")]),_:1})])])]),n("span",Oi,[n("span",null,[Ui,w("\xA0 "),u(g,{modelValue:i.dataset_select,"onUpdate:modelValue":e[0]||(e[0]=c=>i.dataset_select=c),class:"m-2",placeholder:"Select",style:{width:"120px"},teleported:!1},{default:b(()=>[(_(!0),v(B,null,I(i.dataset_options,c=>(_(),at(h,{key:c.value,label:c.label,value:c.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),w(" \xA0\xA0 "),n("span",null,[Ji,w("\xA0 "),u(g,{modelValue:i.video_select,"onUpdate:modelValue":e[1]||(e[1]=c=>i.video_select=c),class:"m-2",placeholder:"Select",style:{width:"100px"},teleported:!1},{default:b(()=>[(_(!0),v(B,null,I(i.video_options,c=>(_(),at(h,{key:c.value,label:c.label,value:c.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),w(" \xA0 | \xA0 "),n("span",null,[u(p,{type:"primary",onClick:e[2]||(e[2]=c=>l.saveData())},{default:b(()=>[Xi,w(" \xA0 \u4FDD\u5B58 ")]),_:1})]),w(" \xA0 | \xA0 "),n("span",null,[u(p,{type:"primary",onClick:e[3]||(e[3]=c=>l.reload())},{default:b(()=>[Zi,w(" \xA0 \u91CD\u7F6E ")]),_:1})])])]),n("div",Gi,[i.leftShow==1?(_(),v("div",Yi,[u(T)])):N("",!0),n("div",Ki,[u(m)]),i.leftShow==1?(_(),v("div",Qi,[u(S)])):N("",!0),i.leftShow==0?(_(),v("div",qi,[u(r)])):N("",!0)])],64)}const ea=H(Hi,[["render",ta]]);const ia={name:"home_view",data(){return{msgH:null}},computed:{initSign(){return 1},loadingText(){return"Loading"}},mounted(){this.msgH=1},methods:{fetchData(){}},components:{Main:ea}},aa=["element-loading-text"];function sa(t,e,a,s,i,l){const d=k("Main"),h=dt("loading");return J((_(),v("div",{class:"common-layout",style:{width:"100%",height:"100vh","background-color":"#121826"},"element-loading-text":l.loadingText,"element-loading-background":"rgba(0, 0, 0, 0.8)"},[u(d,{msgH:i.msgH},null,8,["msgH"])],8,aa)),[[h,!l.initSign]])}const na=H(ia,[["render",sa],["__scopeId","data-v-726ee00b"]]);export{na as default};
